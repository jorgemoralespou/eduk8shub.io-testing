<!DOCTYPE html>
<html>

  <head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Kubernetes operator for eduk8s - eduk8s Hub</title>
<meta name="description" content="Kubernetes operator for deploying eduk8s workshop environments on Kubernetes.
Deploying the eduk8s operator To deploy the operator, run:
kubectl apply -k &amp;#34;github.com/eduk8s/eduk8s-operator?ref=master&amp;#34; Note that tagged versions haven&amp;rsquo;t been created as yet, so this is using the latest version. Tagging of versions will be setup soon.
The command above will create a namespace in your Kubernetes cluster called eduk8s and the operator along with any required namespaced resources will be created in it."/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/pages/install/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="Kubernetes operator for deploying eduk8s workshop environments on Kubernetes.
Deploying the eduk8s operator To deploy the operator, run:
kubectl apply -k &amp;#34;github.com/eduk8s/eduk8s-operator?ref=master&amp;#34; Note that tagged versions haven&amp;rsquo;t been created as yet, so this is using the latest version. Tagging of versions will be setup soon.
The command above will create a namespace in your Kubernetes cluster called eduk8s and the operator along with any required namespaced resources will be created in it." />
<meta name="twitter:title" content="Kubernetes operator for eduk8s - eduk8s Hub" />
<meta name="twitter:site" content="http://twitter.com/eduk8sio" />
<meta name="twitter:creator" content="http://twitter.com/eduk8sio" />


<meta property="og:type" content="article" />
<meta content="Kubernetes operator for eduk8s - eduk8s Hub" property="og:title">
<meta content="Kubernetes operator for deploying eduk8s workshop environments on Kubernetes.
Deploying the eduk8s operator To deploy the operator, run:
kubectl apply -k &amp;#34;github.com/eduk8s/eduk8s-operator?ref=master&amp;#34; Note that tagged versions haven&amp;rsquo;t been created as yet, so this is using the latest version. Tagging of versions will be setup soon.
The command above will create a namespace in your Kubernetes cluster called eduk8s and the operator along with any required namespaced resources will be created in it." property="og:description">
<meta property="og:url" content="/pages/install/" />
<meta property="og:site_name" content="eduk8s Hub" />







<script type="application/ld+json">
{ 
    "@context": "http://schema.org", 
    "@type": "BlogPosting",
    "headline": "Kubernetes operator for eduk8s",
    "genre": "",  
    "url": "\/pages\/install\/",
    "datePublished": "0001-01-01 00:00:00 \x2b0000 UTC",
    "description": "Kubernetes operator for deploying eduk8s workshop environments on Kubernetes.\nDeploying the eduk8s operator To deploy the operator, run:\nkubectl apply -k \x26#34;github.com\/eduk8s\/eduk8s-operator?ref=master\x26#34; Note that tagged versions haven\x26rsquo;t been created as yet, so this is using the latest version. Tagging of versions will be setup soon.\nThe command above will create a namespace in your Kubernetes cluster called eduk8s and the operator along with any required namespaced resources will be created in it.",
    "author": {
        "@type": "Person",
        "name": ""
    }
 }
</script>




<link rel="stylesheet" href="/sass/main.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script type="text/javascript" src="/js/jquery.min.js"></script>

<script type="text/javascript" src="/js/lunr.min.js"></script>
<script type="text/javascript" src="/js/fuse-5_1_0.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
</head>


  <body>

    <header class="site-header">
<nav class="navbar navbar-default">
  <div class="container-fluid">
    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div>
         
         <img height="64" src="/images/eduk8s.png" alt="">
         
         <a class="navbar-brand" href="/">eduk8s Hub</a>
    </div>
  </div>

    
    <div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
       
      <script type="text/javascript">
    var lunrIndex,
        $results,
        pagesIndex,
        fuse;
    
    function initFuse(){
      const options = {
        includeScore: true,
        includeMatches: true,
        threshold: 0.3,
        keys: [
          {
            name: 'title',
            weight: 0.1
          }, 
          {
            name: 'tags',
            weight: 0.3
          },
          { 
            name: 'categories',
            weight: 0.3
          },
          {
            name: 'content',
            weight: 0.5
          }
        ]
      }

        $.getJSON("/js/lunr/PagesIndex.json")
            .done(function(index) {
                pagesIndex = index;

                fuse = new Fuse(pagesIndex, options);
            })
            .fail(function(jqxhr, textStatus, error) {
                var err = textStatus + ", " + error;
                console.error("Error getting Hugo index flie:", err);
            });
    }
  
    
    function initLunr() {
        
        $.getJSON("/js/lunr/PagesIndex.json")
            .done(function(index) {
                pagesIndex = index;

  
                lunrIndex = lunr(function () {
                  this.field("title", {
                    boost: 20
                  });
                  this.field("tags", {
                    boost: 10
                  });
                  this.field("categories", {
                    boost: 10
                  });
                  this.field("content",{
                    boost: 5
                  });
  
                  
                  this.ref("id");
  
                  pagesIndex.forEach(function (doc) {
                    this.add(doc)
                  }, this)
                });
            })
            .fail(function(jqxhr, textStatus, error) {
                var err = textStatus + ", " + error;
                console.error("Error getting Hugo index flie:", err);
            });
    }
  
    
    function initUI() {
        $("#clear_search").hide();
        $("#clear_search").click(function(){
          $("#search").val("");
          doSearch();
        });
        $("#search").keyup(function() {
            doSearch();
        });
    }

    

    function doSearch(){
      var tagString = "";
      
      $("._filter_tags_checkboxes").each(function(idx, element){
        if (element.checked){
          
          tagString += element.id.replace('_tag_',' +tags:');
        }
      });

      
      var categoryString = "";
      $(".oh-category-item__select").each(function(index,element){ 
        if ($(element).hasClass("selected")){
          
          categoryString = $(element).attr('id').replace('_category_',' +categories:');
        }
      });

      
      var searchString = "";
      var searchFieldValue = $("#search").val();
      if (searchFieldValue!=null && searchFieldValue.length>0){
        
        searchFieldValue.split(" ").forEach(token => searchString += "'"+ token);
      }

      var filter = tagString + " " + categoryString + " " + searchString;
      console.log("Doing search for: " + filter);
      var results = search(filter);
      console.log("results", results);
      
      renderResults(results, searchString);
    }
  
    function search(query) {
      return fuse.search(query);



    }
  
    function renderResults(results, query) {
        if (query.length==0){
            visibleAll(true);
            $("#clear_search").hide();
        }else{
          $("#clear_search").show();
        }
        if (!results.length) {
            visibleAll(false);
        }




        $(".index-anchor" ).each(function(idx, element){
          var toshow = false;  
          results.forEach(function(result){
            if (result.item.id === element.id){
              toshow = true;
            }
          });
          if (toshow){
            $(element).show();
          }else{
            $(element).hide();
          }
        });
    }

    function visibleAll(show) {
        $(".index-anchor").each(function (idx, element) {
            if (show) {
                $(element).show();
            } else {
                $(element).hide();
            }
        });
        return;
    }
  
    
    initLunr();
    initFuse();
  
    $(document).ready(function() {
        initUI();
    });
</script>

      <form class="navbar-form navbar-left" role="search">
        <div class="form-group">
          <div class="search-group">
              <span class="fa fa-search search-icon" aria-hidden="true"></span>
              <input type="text" class="form-control" id="search" placeholder="Search">
              <a href="#" id="clear_search" class="fa fa-times-circle clear-icon"></a>
          </div>
        </div>
      </form>

            <ul class="nav navbar-nav navbar-right">
              
        
        
        
            
                <li>
                    <a  href="/pages/install/">
                        <i class='fa fa-bolt'></i>
                        <span>Install</span>
                    </a>
                </li>
            
        
        
        
            
                <li>
                    <a target="_blank"  href="https://eduk8s.readthedocs.io/">
                        <i class='fa fa-road'></i>
                        <span>Read the docs</span>
                    </a>
                </li>
            
        
        
        
            
                <li>
                    <a  href="/pages/about/">
                        <i class='fa fa-bookmark'></i>
                        <span>About</span>
                    </a>
                </li>
            
        
        
        
            
                <li>
                    <a  href="/pages/contact/">
                        <i class='fa fa-user-circle'></i>
                        <span>Contact</span>
                    </a>
                </li>
            
        
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Contribute <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a target="_blank" href="https://github.com/eduk8s">Project</a></li>
            <li><a href="https://github.com/eduk8s/eduk8s-operator">Operator</a></li>
            <li role="separator" class="divider"></li>
            <li><a target="_blank" href="https://github.com/eduk8s-labs">Labs</a></li>
            <li><a target="_blank" href="https://github.com/eduk8s-tests">Tests</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
</header>


    <div class="page_contents">
      <div class="page_contents_inner">
        <div class="hub_page">
          <div class="hub_page_content">
            <div class="hub_page_content_tiles">
              
<div class="row">
<div class="col-md-12">
<article class="post">

  <header class="post-header">
    <h1 class="post-title">Kubernetes operator for eduk8s</h1>
  </header>

  <div class="post-content">
    <p>Kubernetes operator for deploying eduk8s workshop environments on Kubernetes.</p>
<h2 id="deploying-the-eduk8s-operator">Deploying the eduk8s operator</h2>
<p>To deploy the operator, run:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl apply -k <span style="color:#e6db74">&#34;github.com/eduk8s/eduk8s-operator?ref=master&#34;</span>
</code></pre></div><p>Note that tagged versions haven&rsquo;t been created as yet, so this is using the latest version. Tagging of versions will be setup soon.</p>
<p>The command above will create a namespace in your Kubernetes cluster called <code>eduk8s</code> and the operator along with any required namespaced resources will be created in it. A set of custom resource definitions and a global cluster role binding will also be created. The list of resources you should see being created are:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">customresourcedefinition.apiextensions.k8s.io/workshopenvironments.training.eduk8s.io created
customresourcedefinition.apiextensions.k8s.io/workshoprequests.training.eduk8s.io created
customresourcedefinition.apiextensions.k8s.io/workshops.training.eduk8s.io created
customresourcedefinition.apiextensions.k8s.io/workshopsessions.training.eduk8s.io created
serviceaccount/eduk8s created
clusterrolebinding.rbac.authorization.k8s.io/eduk8s-cluster-admin created
deployment.apps/eduk8s-operator created
</code></pre></div><p>You can check that the operator deployed okay by running:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get all -n eduk8s
</code></pre></div><p>The pod for the operator should be marked as running.</p>
<h3 id="specifying-the-ingress-domain">Specifying the ingress domain</h3>
<p>The operator when deploying instances of the workshop environments needs to be able to expose them via an external URL for access. To define the domain name that can be used as a suffix to hostnames for instances, you need to set the <code>INGRESS_DOMAIN</code> environment variable on the operator deployment. To do this run:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl set env deployment/eduk8s-operator -n eduk8s INGRESS_DOMAIN<span style="color:#f92672">=</span>test
</code></pre></div><p>Replace <code>test</code> with the domain name for your Kubernetes cluster.</p>
<p>If you do not set this, the ingress created will use <code>training.eduk8s.io</code> as a default.</p>
<p>If your Kubernetes cluster doesn&rsquo;t have an ingress controller configured, you will need to use port forwarding to access a workshop environment.</p>
<h2 id="deploying-workshop-environments">Deploying workshop environments</h2>
<p>For deploying workshops using the eduk8s operator, see the eduk8s documentation at:</p>
<ul>
<li><a href="https://eduk8s.readthedocs.io/">https://eduk8s.readthedocs.io/</a></li>
</ul>

  </div>

</article>
</div>

</div>


            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
    <div class="container">
        <div class="row p20">
            
                <div class="col-md-4 text-center mt25">All rights reserved by <a target="_blank" href="https://eduk8s.io">eduk8s</a></div>
            

            <div class="col-md-4 text-center mt25">
               
                <a target="_blank" href="http://twitter.com/eduk8sio"><li class="social twitter"><i class="fa fa-twitter-square"></i></li></a>
                
               
                <a target="_blank" href="http://github.com/eduk8s"><li class="social github"><i class="fa fa-github-square"></i></li></a>
                
            </div>
        </div> 
    </div>
</footer>


    
  </body>

</html>